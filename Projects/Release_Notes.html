<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Release Notes for FP-IND-DATALOGMC application example</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="../_htmresc/mini-st_2020.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="icon" type="image/x-icon" href="../_htmresc/favicon.png" />
</head>
<body>
<div class="row">
<div class="col-sm-12 col-lg-4">
<center>
<h1 id="release-notes-for-fp-ind-datalogmc-projects">Release Notes for <mark>FP-IND-DATALOGMC projects</mark></h1>
<p>Copyright © 2024 STMicroelectronics<br />
</p>
<a href="https://www.st.com" class="logo"><img src="../_htmresc/st_logo_2020.png" alt="ST logo" /></a>
</center>
<h1 id="purpose">Purpose</h1>
<p>The <strong>FP-IND-DATALOGMC</strong> function pack for <strong>STEVAL-STWINBX1</strong> and <strong>EVLSPIN32G4-ACT</strong> is a powerful integrated toolkit for the next generation of smart actuators. This toolkit is derived from an <strong>FP-SNS-DATALOG2</strong> function pack and allows the collection of heterogeneous data, combining STWIN.box sensor information with STSPIN32G4 motor control data. It provides a comprehensive view of the system’s operational conditions, enabling both real-time monitoring and accurate performance assessment.</p>
<p>Version 1.1.0 introduces a further firmware example called <strong>DATALOGMC_AI</strong> that implements motor fault classification based on a machine learning solution developed through <strong>NanoEdgeAIStudio</strong>. The machine learning model allows accurate classification of motor behavior into two states: good and faulty.</p>
<p>Users can also customize the model by adding their own classes, which can be achieved by incorporating additional data and modifying the training process. The package also includes a portable mechanical setup that can be replicated with a 3D printer.</p>
<p>EVLSPIN32G4-ACT is designed to drive a variety of three-phase brushless DC motors (not included in the kit) and is ready for FOC control algorithms. See the user manual for further details and installation guide. The list of supported motors is provided in the motor control SDK documentation (<strong>X-CUBE-MCSDK-6</strong>).</p>
<p>The function pack is compatible with <strong><a href="https://github.com/STMicroelectronics/stdatalog-pysdk">STDATALOG_PYSDK</a></strong>, a data-centric design and user-friendly Python SDK that can run with hardware boards that supply real-time data streams, empowering users with full control of the data acquisition process. STDATALOG_PYSDK contains hsdatalogMC_GUI that communicates with the STEVAL-STWINBX1 via USB, allowing the user to control the motor (start/stop commands, set velocity) and select a combination of motor control telemetries and sensor data to be logged. The STEVAL-STWINBX1 communicates with the STSPIN32G4 MCU via serial port (UART), using the motor control protocol (MCPv2). This protocol allows both system configuration and data logging.</p>
<p>The application can be controlled via Bluetooth using the STBLESensor app, which lets you manage the board and sensor configurations, start/stop data acquisition on the SD card, and control data labeling.</p>
<p>Here is the list of references to user documents:</p>
<ul>
<li><a href="https://www.st.com/resource/en/data_brief/FP-IND-DATALOGMC.pdf">DB5152</a> : STM32Cube function pack for high-speed datalogging of sensors data and motor control telemetries</li>
<li><a href="https://www.st.com/stm32cube">STM32Cube</a>: STM32Cube</li>
</ul>
</div>
<div class="col-sm-12 col-lg-8">
<h1 id="update-history">Update History</h1>
<div class="collapse">
<input type="checkbox" id="collapse-section3" checked aria-hidden="true"> <label for="collapse-section3" aria-hidden="true">v2.0.0 / 17-Jan-25</label>
<div>
<h2 id="main-changes">Main Changes</h2>
<h3 id="maintenance-release-and-product-update">Maintenance Release and Product Update</h3>
<ul>
<li><strong>Moved HSDPython SDK in a separate software product: <a href="https://github.com/STMicroelectronics/stdatalog-pysdk">STDATALOG_PYSDK</a></strong></li>
<li>Updated app model with new dtdl motor control properties</li>
<li>Implemented a state machine to manage MCP interaction between master and slave</li>
<li>Implemented commands with responses on USB channel</li>
<li>Upgraded SensorManager, adding new sensors with updated PID</li>
<li>Code cleanup and restyling</li>
</ul>
<h2 id="known-limitations">Known Limitations</h2>
<ul>
<li>None</li>
</ul>
<h2 id="development-toolchains-and-compilers">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V9.20.1</li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.38</li>
<li>STM32CubeIDE v1.17.0</li>
</ul>
<h2 id="supported-devices-and-boards">Supported Devices and Boards</h2>
<ul>
<li><a href="https://www.st.com/stwinbox">STEVAL-STWINBX1</a></li>
<li><a href="https://www.st.com/en/evaluation-tools/evlspin32g4-act.html">EVLSPIN32G4-ACT</a></li>
</ul>
<h2 id="backward-compatibility">Backward Compatibility</h2>
<ul>
<li>None</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>HSDPython_SDK has been moved in a separate software product: <a href="https://github.com/STMicroelectronics/stdatalog-pysdk">STDATALOG_PYSDK</a></li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section2" aria-hidden="true"> <label for="collapse-section2" aria-hidden="true">v1.1.0 / 19-Jul-24</label>
<div>
<h2 id="main-changes-1">Main Changes</h2>
<h3 id="maintenance-release-and-product-update-1">Maintenance Release and Product Update</h3>
<ul>
<li><strong>New firmware example (DATALOGMC_AI), implementing a motor fault classification based on a machine learning solution developed through NanoEdgeAIStudio</strong></li>
<li>Regenerated and reshaped PnPL and App Model files</li>
<li>Refactored ASPEP protocol and Motor Control Protocol Task</li>
<li>Refactored slow telemetry data handling and update buffer management</li>
<li>Fixed fast telemetries ordering</li>
</ul>
<h2 id="known-limitations-1">Known Limitations</h2>
<ul>
<li>None</li>
</ul>
<h2 id="development-toolchains-and-compilers-1">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V9.20.1</li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.38</li>
<li>STM32CubeIDE v1.15.1</li>
</ul>
<h2 id="supported-devices-and-boards-1">Supported Devices and Boards</h2>
<ul>
<li><a href="https://www.st.com/stwinbox">STEVAL-STWINBX1</a></li>
<li><a href="https://www.st.com/en/evaluation-tools/evlspin32g4-act.html">EVLSPIN32G4-ACT</a></li>
</ul>
<h2 id="backward-compatibility-1">Backward Compatibility</h2>
<ul>
<li>None</li>
</ul>
<h2 id="dependencies-1">Dependencies</h2>
<ul>
<li>None</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section1" aria-hidden="true"> <label for="collapse-section1" aria-hidden="true">v1.0.0 / 29-Nov-23</label>
<div>
<h2 id="main-changes-2">Main Changes</h2>
<h3 id="first-official-release">First official release</h3>
<ul>
<li>First official release</li>
</ul>
<h2 id="known-limitations-2">Known Limitations</h2>
<ul>
<li>None</li>
</ul>
<h2 id="development-toolchains-and-compilers-2">Development Toolchains and Compilers</h2>
<ul>
<li>IAR Embedded Workbench for ARM (EWARM) toolchain V9.20.1</li>
<li>RealView Microcontroller Development Kit (MDK-ARM) toolchain V5.37</li>
<li>STM32CubeIDE v1.13.2</li>
</ul>
<h2 id="supported-devices-and-boards-2">Supported Devices and Boards</h2>
<ul>
<li><a href="https://www.st.com/stwinbox">STEVAL-STWINBX1</a></li>
<li><a href="https://www.st.com/en/evaluation-tools/evlspin32g4-act.html">EVLSPIN32G4-ACT</a></li>
</ul>
<h2 id="backward-compatibility-2">Backward Compatibility</h2>
<ul>
<li>None</li>
</ul>
<h2 id="dependencies-2">Dependencies</h2>
<ul>
<li>None</li>
</ul>
</div>
</div>
</div>
</div>
<footer class="sticky">
<div class="columns">
<div class="column" style="width:95%;">
<p>For complete documentation on <strong>FP-IND-DATALOGMC</strong> , visit: <a href="https://www.st.com/en/embedded-software/fp-ind-datalogmc.html">www.st.com</a></p>
</div><div class="column" style="width:5%;">
<p><abbr title="Based on template cx566953 version 2.0">Info</abbr></p>
</div>
</div>
</footer>
</body>
</html>
